<Window x:Class="DYA.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DYA"
        xmlns:converters="clr-namespace:DYA.Converters"
        mc:Ignorable="d"
        Title="DoYourAssignments" Height="450" Width="800">

    <Window.Resources>
        <converters:AssignmentConverter x:Key="AssignmentConverter"/>
        <converters:VisibilityConverter x:Key="VisibilityConverter"/>

        <!--<ResourceDictionary x:Key="Buttons">-->
            <DataTemplate x:Key="ExpandDetails">
                <ToggleButton x:Name="ShowDetails"
                              IsChecked="{Binding RelativeSource={RelativeSource AncestorType=DataGridRow},
                                                  Path=DetailsVisibility,
                                                  Converter={StaticResource VisibilityConverter},
                                                  Mode=TwoWay}"/>
            </DataTemplate>
        <!--</ResourceDictionary>-->
    </Window.Resources>
    
    <StackPanel>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="2*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!--View Panel-->
            <StackPanel Grid.Column="0">
                <TextBlock Text="View Panel"/>

                <DataGrid x:Name="Assignments" ItemsSource="{Binding}" AutoGenerateColumns="False" AlternatingRowBackground="AliceBlue" CanUserAddRows="False">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <!--<Setter Property="HorizontalAlignment" Value="Center"/>-->
                            <Setter Property="FontWeight" Value="Bold"/>
                        </Style>
                    </DataGrid.Resources>

                    <DataGrid.Columns>
                        <DataGridTemplateColumn Header="Details" CellTemplate="{StaticResource ExpandDetails}" Width="Auto"/>

                        <DataGridTextColumn Header="ID"  Binding="{Binding ID}" IsReadOnly="True" Width="*"/>
                        <DataGridTextColumn Header="Name" Binding="{Binding Name}" IsReadOnly="True" Width="*"/>

                        <!--<DataGridTextColumn Header="Assignments" Binding="{Binding Assignments, Converter={StaticResource AssignmentConverter}}"/>-->

                        <!--<DataGridTextColumn Header="W1" Binding="{Binding W1, Converter={StaticResource AssignmentConverter}}" Width="*"/>-->
                        <!--<DataGridTextColumn Header="W2" Binding="{Binding W2, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W3" Binding="{Binding W3, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W4" Binding="{Binding W4, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W5" Binding="{Binding W5, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W6" Binding="{Binding W6, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W7" Binding="{Binding W7, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W8" Binding="{Binding W8, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W9" Binding="{Binding W9, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W10" Binding="{Binding W10, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W11" Binding="{Binding W11, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W12" Binding="{Binding W12, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                        <DataGridTextColumn Header="W13" Binding="{Binding W13, Converter={StaticResource AssignmentConverter}}" Width="*"/>-->

                        
                        
                        <DataGridTextColumn Header="Current Points" Binding="{Binding CurrentPoints}" IsReadOnly="True" Width="*"/>
                        <DataGridTextColumn Header="Max Points (%)" Binding="{Binding MaxPoints}" IsReadOnly="True" Width="*"/>
                        <DataGridTextColumn Header="Percentage" Binding="{Binding PercentagePoints}" IsReadOnly="True" Width="*"/>
                    </DataGrid.Columns>

                    <DataGrid.RowDetailsTemplate>
                        <DataTemplate>
                            <Border BorderThickness="5" Background="Aquamarine">
                                <StackPanel Orientation="Vertical">
                                    <!--Info-->
                                    <TextBlock Text="Class:"/>

                                    <TextBlock Text="{Binding ClassName}"/>
                                    <!--Assignments-->

                                    <DataGrid x:Name="ViewPanel" ItemsSource="{Binding Assignments}" CanUserAddRows="False">
                                        <!--<DataGrid.Resources>
                                            <Style TargetType="DataGridColumnHeader">
                                                --><!--<Setter Property="HorizontalAlignment" Value="Center"/>--><!--
                                                <Setter Property="FontWeight" Value="Bold"/>
                                            </Style>
                                        </DataGrid.Resources>
                                        
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Header="W1" Binding="{Binding W1, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                                            <DataGridTextColumn Header="W2" Binding="{Binding W2, Converter={StaticResource AssignmentConverter}}" Width="*"/>
                                        </DataGrid.Columns>-->
                                    </DataGrid>
                                </StackPanel>                                
                            </Border>
                        </DataTemplate>
                    </DataGrid.RowDetailsTemplate>
                </DataGrid>
            </StackPanel>

            <!--Selection Panel-->
            <StackPanel Grid.Row="1">

            </StackPanel>
        </Grid>
        
    </StackPanel>
</Window>
